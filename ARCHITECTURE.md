# ç³»çµ±æ¶æ§‹èªªæ˜

## ğŸ¯ ç°¡ç­”

**æ˜¯çš„ï¼** `test_games_menu.sh` æœƒç›´æ¥å‘¼å« `test_games_with_puppeteer.sh`

åœ¨ Line 341ï¼š
```bash
./test_games_with_puppeteer.sh --games "$GAMES_STRING" "$LANG" "$WAIT_TIME"
```

---

## ğŸ“ ä¸‰å±¤æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ä½¿ç”¨è€…                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: äº’å‹•ä»‹é¢                                       â”‚
â”‚                                                          â”‚
â”‚  test_games_menu.sh                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  è·è²¬ï¼šä½¿ç”¨è€…ä»‹é¢                                        â”‚
â”‚  â€¢ é¡¯ç¤ºéŠæˆ²é¸å–® (78 å€‹éŠæˆ²)                             â”‚
â”‚  â€¢ æ”¶é›†ä½¿ç”¨è€…é¸æ“‡                                        â”‚
â”‚  â€¢ é¸æ“‡èªè¨€å’Œç­‰å¾…æ™‚é–“                                    â”‚
â”‚  â€¢ ç¢ºèªä¸¦å•Ÿå‹•æ¸¬è©¦                                        â”‚
â”‚                                                          â”‚
â”‚  ä¸åŸ·è¡Œï¼šå¯¦éš›æ¸¬é€Ÿ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ å‘¼å« (Line 341)
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: æ‰¹æ¬¡æ¸¬è©¦å¼•æ“                                   â”‚
â”‚                                                          â”‚
â”‚  test_games_with_puppeteer.sh                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  è·è²¬ï¼šæ¸¬è©¦å”èª¿å’Œæ‰¹æ¬¡è™•ç†                                â”‚
â”‚  â€¢ è§£æå‘½ä»¤åˆ—åƒæ•¸                                        â”‚
â”‚  â€¢ å¾ API å–å¾—éŠæˆ² URL                                   â”‚
â”‚  â€¢ è¿´åœˆè™•ç†å¤šå€‹éŠæˆ²                                      â”‚
â”‚  â€¢ å‘¼å«æ ¸å¿ƒæ¸¬é€Ÿç¨‹å¼                                      â”‚
â”‚  â€¢ æ”¶é›†ä¸¦å½™æ•´çµæœ                                        â”‚
â”‚  â€¢ é¡¯ç¤ºçµ±è¨ˆæ‘˜è¦                                          â”‚
â”‚                                                          â”‚
â”‚  ä¸åŸ·è¡Œï¼šç€è¦½å™¨æ“ä½œ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ å‘¼å« (Line 341)
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: æ ¸å¿ƒæ¸¬é€Ÿç¨‹å¼                                   â”‚
â”‚                                                          â”‚
â”‚  puppeteer_game_test.js                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  è·è²¬ï¼šå¯¦éš›æ¸¬é€Ÿå’Œè³‡æ–™æ”¶é›†                                â”‚
â”‚  â€¢ å•Ÿå‹• Puppeteer ç€è¦½å™¨                                â”‚
â”‚  â€¢ ä½¿ç”¨ CDP è¿½è¹¤ç¶²è·¯                                     â”‚
â”‚  â€¢ è¨ˆç®—å¯¦éš›è³‡æºå¤§å°                                      â”‚
â”‚  â€¢ åŸ·è¡Œå¢å¼·é»æ“Šç­–ç•¥ (3 ç¨®)                              â”‚
â”‚  â€¢ ç­‰å¾…éŠæˆ²å®Œå…¨è¼‰å…¥                                      â”‚
â”‚  â€¢ è¼¸å‡º JSON å ±å‘Š                                        â”‚
â”‚                                                          â”‚
â”‚  ä¸åŸ·è¡Œï¼šAPI å‘¼å«ã€æ‰¹æ¬¡è™•ç†                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    æ¸¬è©¦çµæœ JSON
```

---

## ğŸ”„ è³‡æ–™æµå‘

### ä½¿ç”¨è€…è¼¸å…¥ â†’ æ¸¬è©¦çµæœ

```
ä½¿ç”¨è€…é¸æ“‡
â”œâ”€â”€ éŠæˆ²ï¼šStandAloneLimboCL, EggHuntBingo
â”œâ”€â”€ èªè¨€ï¼šen-US
â””â”€â”€ ç­‰å¾…æ™‚é–“ï¼š15000ms
         â”‚
         â–¼
test_games_menu.sh
â”œâ”€â”€ æ”¶é›†é¸é …
â”œâ”€â”€ å»ºç«‹åƒæ•¸å­—ä¸²
â””â”€â”€ å‘¼å« â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
test_games_with_puppeteer.sh
â”œâ”€â”€ è§£æåƒæ•¸ï¼š--games "StandAloneLimboCL,EggHuntBingo" en-US 15000
â”œâ”€â”€ å¾ API å–å¾— URL
â”‚   â”œâ”€â”€ StandAloneLimboCL â†’ https://game1.url
â”‚   â””â”€â”€ EggHuntBingo â†’ https://game2.url
â”‚
â”œâ”€â”€ Game 1: StandAloneLimboCL
â”‚   â”œâ”€â”€ å‘¼å«ï¼šnode puppeteer_game_test.js "https://game1.url" --wait=15000
â”‚   â””â”€â”€ çµæœï¼šgame1.json
â”‚
â”œâ”€â”€ Game 2: EggHuntBingo
â”‚   â”œâ”€â”€ å‘¼å«ï¼šnode puppeteer_game_test.js "https://game2.url" --wait=15000
â”‚   â””â”€â”€ çµæœï¼šgame2.json
â”‚
â””â”€â”€ å½™æ•´çµæœ â†’ é¡¯ç¤ºæ‘˜è¦
```

---

## ğŸ“‹ è·è²¬æ¸…å–®

### test_games_menu.sh

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| âœ… é¡¯ç¤ºéŠæˆ²æ¸…å–® | 78 å€‹å¯ç”¨éŠæˆ² |
| âœ… äº’å‹•å¼é¸æ“‡ | åˆ‡æ›éŠæˆ²é¸æ“‡ (toggle) |
| âœ… å¿«é€Ÿé¸æ“‡ | a=å…¨é¸, c=æ¸…é™¤, r=éš¨æ©Ÿ, b=Bingo, h=Hilo |
| âœ… èªè¨€é¸æ“‡ | en-US / zh-CN / zh-TW |
| âœ… ç­‰å¾…æ™‚é–“é¸æ“‡ | 10s / 15s / 20s |
| âœ… ç¢ºèªå°è©± | é¡¯ç¤ºé¸æ“‡æ‘˜è¦ |
| âœ… å‘¼å«æ¸¬è©¦å¼•æ“ | å‚³éåƒæ•¸çµ¦ test_games_with_puppeteer.sh |
| âŒ API å‘¼å« | ä¸åŸ·è¡Œ |
| âŒ ç€è¦½å™¨æ“ä½œ | ä¸åŸ·è¡Œ |

### test_games_with_puppeteer.sh

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| âœ… è§£æåƒæ•¸ | --games, lang, wait_time |
| âœ… API æ•´åˆ | å¾ wallet-api å–å¾—éŠæˆ² URL |
| âœ… è¿´åœˆè™•ç† | è™•ç†å¤šå€‹éŠæˆ² |
| âœ… å‘¼å«æ¸¬é€Ÿ | å‘¼å« puppeteer_game_test.js |
| âœ… çµæœæ”¶é›† | è®€å– JSON å ±å‘Š |
| âœ… çµ±è¨ˆé¡¯ç¤º | å½™æ•´ä¸¦é¡¯ç¤ºæ‘˜è¦ |
| âœ… æª”æ¡ˆå„²å­˜ | å„²å­˜ results.txt |
| âŒ ç€è¦½å™¨æ“ä½œ | ä¸åŸ·è¡Œ |
| âŒ è³‡æºè¿½è¹¤ | ä¸åŸ·è¡Œ |

### puppeteer_game_test.js

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| âœ… å•Ÿå‹•ç€è¦½å™¨ | Puppeteer + Chromium |
| âœ… CDP è¿½è¹¤ | Network.enable + getResponseBody |
| âœ… è³‡æºå¤§å° | è¨ˆç®—å¯¦éš›ä¸‹è¼‰å¤§å° |
| âœ… é»æ“Šç­–ç•¥ | 3 ç¨®ç­–ç•¥ (å¤šä½ç½®/å¤šæ¬¡/HTML) |
| âœ… ç­‰å¾…è¼‰å…¥ | æ™ºèƒ½ç¶²è·¯é–’ç½®æª¢æ¸¬ |
| âœ… JSON è¼¸å‡º | è©³ç´°æ¸¬è©¦å ±å‘Š |
| âŒ API å‘¼å« | ä¸åŸ·è¡Œ |
| âŒ æ‰¹æ¬¡è™•ç† | åªè™•ç†å–®ä¸€ URL |

---

## ğŸ”— ä¾è³´é—œä¿‚

```
test_games_menu.sh
  â”‚
  â”œâ”€[å¿…é ˆ]â†’ test_games_with_puppeteer.sh
  â”‚
  â””â”€[é–“æ¥]â†’ puppeteer_game_test.js
              â”‚
              â””â”€[å¿…é ˆ]â†’ node_modules/puppeteer


test_games_with_puppeteer.sh
  â”‚
  â”œâ”€[å¿…é ˆ]â†’ puppeteer_game_test.js
  â”‚           â”‚
  â”‚           â””â”€[å¿…é ˆ]â†’ node_modules/puppeteer
  â”‚
  â”œâ”€[å¿…é ˆ]â†’ curl (API å‘¼å«)
  â”‚
  â””â”€[å¿…é ˆ]â†’ node (è§£æ JSON)


puppeteer_game_test.js
  â”‚
  â”œâ”€[å¿…é ˆ]â†’ node_modules/puppeteer
  â”‚
  â””â”€[å¿…é ˆ]â†’ Node.js runtime
```

---

## ğŸ® ä½¿ç”¨å ´æ™¯

### å ´æ™¯ 1: æ—¥å¸¸æ¸¬è©¦ï¼ˆæ¨è–¦ï¼‰

```bash
./test_games_menu.sh
```

**æµç¨‹**ï¼š
1. é¡¯ç¤ºé¸å–®
2. é¸æ“‡ 3-5 å€‹éŠæˆ²
3. é¸æ“‡èªè¨€å’Œç­‰å¾…æ™‚é–“
4. è‡ªå‹•åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
5. é¡¯ç¤ºå½™æ•´çµæœ

**å„ªé»**ï¼š
- âœ… ä½¿ç”¨è€…å‹å–„
- âœ… ä¸éœ€è¦è¨˜æ†¶éŠæˆ²åç¨±
- âœ… è‡ªå‹•æ‰¹æ¬¡è™•ç†
- âœ… çµ±ä¸€çš„çµæœå±•ç¤º

### å ´æ™¯ 2: è…³æœ¬è‡ªå‹•åŒ–

```bash
./test_games_with_puppeteer.sh \
  --games "StandAloneLimboCL,EggHuntBingo" \
  en-US \
  15000
```

**æµç¨‹**ï¼š
1. ç›´æ¥åŸ·è¡Œï¼ˆç„¡äº’å‹•ï¼‰
2. æ‰¹æ¬¡è™•ç†æŒ‡å®šéŠæˆ²
3. è¼¸å‡ºçµæœ

**å„ªé»**ï¼š
- âœ… é©åˆ CI/CD
- âœ… å¯è…³æœ¬åŒ–
- âœ… å¿«é€ŸåŸ·è¡Œ

### å ´æ™¯ 3: é–‹ç™¼é™¤éŒ¯

```bash
node puppeteer_game_test.js \
  "https://game-url..." \
  --output=debug.json \
  --headless=false
```

**æµç¨‹**ï¼š
1. ç›´æ¥æ¸¬è©¦å–®ä¸€ URL
2. å¯è¦–åŒ–ç€è¦½å™¨
3. è©³ç´°æ—¥èªŒ

**å„ªé»**ï¼š
- âœ… å¿«é€Ÿæ¸¬è©¦
- âœ… å¯è¦–åŒ–é™¤éŒ¯
- âœ… ä¸éœ€è¦ API

---

## ğŸ”§ ä¿®æ”¹å½±éŸ¿ç¯„åœ

### ä¿®æ”¹ puppeteer_game_test.js

**å½±éŸ¿ç¯„åœ**ï¼š
- âœ… test_games_menu.sh (é–“æ¥)
- âœ… test_games_with_puppeteer.sh (ç›´æ¥)
- âœ… å–®ç¨ä½¿ç”¨ node åŸ·è¡Œ

**ç¯„ä¾‹**ï¼šå¢åŠ æ–°çš„é»æ“Šç­–ç•¥
```javascript
// æ‰€æœ‰ä½¿ç”¨æ­¤ç¨‹å¼çš„è…³æœ¬éƒ½æœƒå—ç›Š
```

### ä¿®æ”¹ test_games_with_puppeteer.sh

**å½±éŸ¿ç¯„åœ**ï¼š
- âœ… test_games_menu.sh (ç›´æ¥)
- âŒ puppeteer_game_test.js (ä¸å½±éŸ¿)

**ç¯„ä¾‹**ï¼šæ”¹è®Šçµæœé¡¯ç¤ºæ ¼å¼
```bash
# åªå½±éŸ¿æ‰¹æ¬¡æ¸¬è©¦çš„è¼¸å‡º
# ä¸å½±éŸ¿æ ¸å¿ƒæ¸¬é€Ÿé‚è¼¯
```

### ä¿®æ”¹ test_games_menu.sh

**å½±éŸ¿ç¯„åœ**ï¼š
- âŒ ä¸å½±éŸ¿å…¶ä»–ä»»ä½•æª”æ¡ˆ

**ç¯„ä¾‹**ï¼šå¢åŠ æ–°çš„å¿«é€Ÿé¸æ“‡åŠŸèƒ½
```bash
# åªæ”¹è®Šé¸å–®ä»‹é¢
# ä¸å½±éŸ¿æ¸¬è©¦é‚è¼¯
```

---

## ğŸ“ ç¸½çµ

### é—œä¿‚

```
test_games_menu.sh (å‘¼å«) â†’ test_games_with_puppeteer.sh (å‘¼å«) â†’ puppeteer_game_test.js
```

### æ¯”å–»

```
test_games_menu.sh       = é¤å»³æœå‹™ç”Ÿï¼ˆæ¥å¾…å®¢äººé»é¤ï¼‰
test_games_with_puppeteer.sh = é¤å»³ç¶“ç†ï¼ˆå”èª¿å»šæˆ¿å’Œè¨‚å–®ï¼‰
puppeteer_game_test.js   = å»šå¸«ï¼ˆå¯¦éš›çƒ¹é£ªï¼‰
```

### è¨­è¨ˆåŸå‰‡

âœ… **å–®ä¸€è·è²¬åŸå‰‡**ï¼šæ¯å€‹è…³æœ¬å°ˆæ³¨ä¸€ä»¶äº‹
âœ… **å¯ç¨ç«‹ä½¿ç”¨**ï¼šæ¯ä¸€å±¤éƒ½å¯ä»¥å–®ç¨åŸ·è¡Œ
âœ… **å‘ä¸‹ä¾è³´**ï¼šä¸Šå±¤ä¾è³´ä¸‹å±¤ï¼Œä¸åå‘
âœ… **æ¸…æ™°ä»‹é¢**ï¼šåƒæ•¸å‚³éæ˜ç¢º

---

## ğŸ¯ å¿«é€Ÿåƒè€ƒ

| æˆ‘æƒ³è¦... | ä½¿ç”¨ |
|----------|------|
| äº’å‹•å¼æ¸¬è©¦å¤šå€‹éŠæˆ² | `./test_games_menu.sh` |
| è…³æœ¬åŒ–æ‰¹æ¬¡æ¸¬è©¦ | `./test_games_with_puppeteer.sh --games "..."` |
| æ¸¬è©¦å–®ä¸€éŠæˆ² URL | `node puppeteer_game_test.js "URL"` |
| CI/CD è‡ªå‹•åŒ– | `./test_games_with_puppeteer.sh` |
| é™¤éŒ¯ç‰¹å®šéŠæˆ² | `node puppeteer_game_test.js "URL" --headless=false` |
