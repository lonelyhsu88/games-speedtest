<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egypt Hilo - Speed Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #fff;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #4CAF50;
            text-align: center;
        }
        .instructions {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .instructions h2 {
            color: #FFC107;
            margin-top: 0;
        }
        .instructions ol {
            line-height: 1.8;
        }
        .instructions code {
            background: #1a1a1a;
            padding: 2px 8px;
            border-radius: 4px;
            color: #4CAF50;
        }
        .game-frame {
            width: 100%;
            height: 800px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            background: #000;
        }
        .metrics {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .metrics h3 {
            color: #FFC107;
            margin-top: 0;
        }
        .metric-item {
            padding: 10px;
            background: #1a1a1a;
            margin: 10px 0;
            border-radius: 4px;
        }
        .metric-label {
            color: #888;
            display: inline-block;
            width: 200px;
        }
        .metric-value {
            color: #4CAF50;
            font-weight: bold;
        }
        .warning {
            background: #ff9800;
            color: #000;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ° Egypt Hilo - Loading Speed Test</h1>

        <div class="instructions">
            <h2>ğŸ“‹ ä½¿ç”¨ Chrome DevTools æµ‹è¯•æ­¥éª¤ï¼š</h2>
            <ol>
                <li>æŒ‰ <code>F12</code> æˆ– <code>Ctrl+Shift+I</code> (Mac: <code>Cmd+Option+I</code>) æ‰“å¼€ DevTools</li>
                <li>åˆ‡æ¢åˆ° <code>Network</code> æ ‡ç­¾</li>
                <li>å‹¾é€‰ <code>Disable cache</code> (ç¦ç”¨ç¼“å­˜)</li>
                <li>æŒ‰ <code>Ctrl+R</code> (Mac: <code>Cmd+R</code>) åˆ·æ–°é¡µé¢</li>
                <li>ç­‰å¾…æ¸¸æˆå®Œå…¨åŠ è½½</li>
                <li>æŸ¥çœ‹ Network é¢æ¿åº•éƒ¨çš„ç»Ÿè®¡ä¿¡æ¯ï¼š
                    <ul>
                        <li><strong>requests</strong> - æ€»è¯·æ±‚æ•°</li>
                        <li><strong>transferred</strong> - ä¼ è¾“å¤§å°</li>
                        <li><strong>resources</strong> - èµ„æºæ€»å¤§å°</li>
                        <li><strong>Finish</strong> - å®Œæˆæ—¶é—´</li>
                        <li><strong>DOMContentLoaded</strong> - DOM åŠ è½½æ—¶é—´</li>
                        <li><strong>Load</strong> - é¡µé¢åŠ è½½æ—¶é—´</li>
                    </ul>
                </li>
                <li>ï¼ˆå¯é€‰ï¼‰åˆ‡æ¢åˆ° <code>Performance</code> æ ‡ç­¾ï¼Œç‚¹å‡» "Record" æŒ‰é’®å½•åˆ¶æ€§èƒ½æ•°æ®</li>
            </ol>

            <div class="warning">
                âš ï¸ <strong>æ³¨æ„</strong>ï¼šç¬¬ä¸€æ¬¡åŠ è½½ä¼šæ¯”è¾ƒæ…¢ï¼Œå› ä¸ºéœ€è¦ä¸‹è½½æ‰€æœ‰èµ„æºã€‚åˆ·æ–°åä¼šä½¿ç”¨ç¼“å­˜ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚
            </div>
        </div>

        <div class="metrics">
            <h3>ğŸ“Š Puppeteer æµ‹è¯•ç»“æœï¼ˆå‚è€ƒï¼‰ï¼š</h3>
            <div class="metric-item">
                <span class="metric-label">æ€»åŠ è½½æ—¶é—´ï¼š</span>
                <span class="metric-value">30.33 ç§’</span>
            </div>
            <div class="metric-item">
                <span class="metric-label">æ€»æ–‡ä»¶æ•°ï¼š</span>
                <span class="metric-value">167 ä¸ª</span>
            </div>
            <div class="metric-item">
                <span class="metric-label">æ€»å¤§å°ï¼š</span>
                <span class="metric-value">10.43 MB</span>
            </div>
            <div class="metric-item">
                <span class="metric-label">åˆå§‹å¯¼èˆªï¼š</span>
                <span class="metric-value">2.17 ç§’</span>
            </div>
            <div class="metric-item">
                <span class="metric-label">å¤±è´¥è¯·æ±‚ï¼š</span>
                <span class="metric-value" style="color: #f44336;">1 ä¸ª (SSLè¯ä¹¦é”™è¯¯)</span>
            </div>
        </div>

        <h2 style="text-align: center; margin-top: 40px;">ğŸ® Game Preview</h2>
        <iframe
            class="game-frame"
            src="https://hash.shuangzi6688.com/StandAloneEgyptHilo/?ProductId=ELS&Token=868b6933a94a46906338ed0dc68d64cba9dc4e142d5e61e5760b8cfd50931cd03f5ea76c6427c81c57ca25709241f435&Lang=en-US"
            frameborder="0"
            allowfullscreen>
        </iframe>

        <div class="metrics" style="margin-top: 20px;">
            <h3>ğŸ” DevTools æ£€æŸ¥è¦ç‚¹ï¼š</h3>
            <ul>
                <li><strong>Network é¢æ¿</strong>ï¼š
                    <ul>
                        <li>æŸ¥çœ‹ waterfallï¼ˆç€‘å¸ƒå›¾ï¼‰äº†è§£èµ„æºåŠ è½½é¡ºåº</li>
                        <li>æ‰¾å‡ºæœ€æ…¢çš„è¯·æ±‚ï¼ˆçº¢è‰²æˆ–é»„è‰²æ¡ï¼‰</li>
                        <li>æ£€æŸ¥æ˜¯å¦æœ‰ 404 æˆ– 500 é”™è¯¯</li>
                    </ul>
                </li>
                <li><strong>Performance é¢æ¿</strong>ï¼š
                    <ul>
                        <li>FCP (First Contentful Paint) - é¦–æ¬¡å†…å®¹ç»˜åˆ¶</li>
                        <li>LCP (Largest Contentful Paint) - æœ€å¤§å†…å®¹ç»˜åˆ¶</li>
                        <li>TTI (Time to Interactive) - å¯äº¤äº’æ—¶é—´</li>
                    </ul>
                </li>
                <li><strong>Console é¢æ¿</strong>ï¼š
                    <ul>
                        <li>æŸ¥çœ‹æ˜¯å¦æœ‰ JavaScript é”™è¯¯</li>
                        <li>æŸ¥çœ‹ API è°ƒç”¨å¤±è´¥ä¿¡æ¯</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <script>
        // è®°å½•é¡µé¢åŠ è½½æ—¶é—´
        window.addEventListener('load', () => {
            const perfData = window.performance.timing;
            const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
            const domReadyTime = perfData.domContentLoadedEventEnd - perfData.navigationStart;

            console.log('%c=== Page Load Performance ===', 'color: #4CAF50; font-size: 16px; font-weight: bold;');
            console.log('DOM Ready:', (domReadyTime / 1000).toFixed(2), 's');
            console.log('Page Load:', (pageLoadTime / 1000).toFixed(2), 's');
            console.log('DNS Lookup:', (perfData.domainLookupEnd - perfData.domainLookupStart), 'ms');
            console.log('TCP Connection:', (perfData.connectEnd - perfData.connectStart), 'ms');
            console.log('Request Time:', (perfData.responseEnd - perfData.requestStart), 'ms');
            console.log('Response Time:', (perfData.responseEnd - perfData.responseStart), 'ms');
            console.log('DOM Processing:', (perfData.domComplete - perfData.domLoading), 'ms');
        });

        // ç›‘æ§ iframe åŠ è½½
        const iframe = document.querySelector('.game-frame');
        const startTime = Date.now();

        iframe.addEventListener('load', () => {
            const loadTime = Date.now() - startTime;
            console.log('%c=== Game iframe Loaded ===', 'color: #FFC107; font-size: 16px; font-weight: bold;');
            console.log('Time to load iframe:', (loadTime / 1000).toFixed(2), 's');
        });
    </script>
</body>
</html>
